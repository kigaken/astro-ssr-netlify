---
// 外部APIからデータを取得
const randomInt = (min, max) => {
    // 最小値と最大値を含む範囲でランダムな整数を返す
    min = Math.ceil(min);  // 小数点以下切り上げ
    max = Math.floor(max); // 小数点以下切り捨て
    return Math.floor(Math.random() * (max - min + 1)) + min;
}
const API_URL = `https://jsonplaceholder.typicode.com/users/${randomInt(1, 10)}`;
const res = await fetch(API_URL);
const user = await res.json();
---

<h3 class="text-lg mb-2 font-bold">外部API（https://jsonplaceholder.typicode.com/）からデータを取得して表示</h3>
<table class="table-fixed border-collapse border border-gray-300 min-w-[400px]">
    <tbody>
        <tr class="border-b border-gray-300">
            <th class="text-left p-2 bg-gray-100 w-1/3">ID</th>
            <td class="text-left p-2">{user.id}</td>
        </tr>
        <tr class="border-b border-gray-300">
            <th class="text-left p-2 bg-gray-100">名前</th>
            <td class="text-left p-2">{user.name}</td>
        </tr>
        <tr class="border-b border-gray-300">
            <th class="text-left p-2 bg-gray-100">ユーザー名</th>
            <td class="text-left p-2">{user.username}</td>
        </tr>
        <tr class="border-b border-gray-300">
            <th class="text-left p-2 bg-gray-100">メールアドレス</th>
            <td class="text-left p-2">{user.email}</td>
        </tr>
    </tbody>
</table>
